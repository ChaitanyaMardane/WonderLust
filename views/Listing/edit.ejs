<% layout("/layouts/boilerplate.ejs") %>
<body>
    <div class="row">
        
    </div>
    <form action="/listing/<%= listing._id %>?_method=PUT" method="POST" novalidate class="needs-validation" enctype="multipart/form-data">
        <div class="row offset-2 mt-3">
                <h3>Edit Listing</h3>
            <div class="col-8 mb-3 ">
                <label class="form-label" for="title">Title:</label>
                <input  class="form-control" type="text" name="title" value="<%= listing.title %>" required>
                <div class="valid-feedback">
                    Title looks Good!
                </div>
                <div class="invalid-feedback">
                    Title is not provided!
                </div> 

            </div>
    
            <div class="col-8 mb-3 ">
                <label class="form-label"  for="description">Description:</label>
                <textarea  class="form-control" name="description" required><%= listing.description %></textarea>
                <div class="valid-feedback">
                    Great!
                </div>
            </div>
    
            <div class="col-8 mb-3 ">
                <label  class="form-label" for="location">Location:</label>
                <input  class="form-control" type="text" name="location" value="<%= listing.location %>" required>
                <div class="invalid-feedback">
                    Enter Valid Location
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-4">
                    <div class="col-8 mb-3 ">
                        <label class="form-label"  for="price">Price:</label>
                        <input  class="form-control"  name="price" value="<%= listing.price %>" required>  
                        <div class="invalid-feedback">
                            Price is not valid
                        </div>  
                    </div>
            
                </div>
                <div class="col-md-6">
                    <div class="col-8 mb-3 ">
                        <label class="form-label"  for="country">Country:</label>
                        <input  class="form-control" type="text" name="country" value="<%= listing.country %>" required>
                        <div class="invalid-feedback">
                            Please select valid Country
                        </div>
                    </div>
            
                </div>
            </div>
    
           
            
            <div class="col-8 mb-3 ">
                <label for="image[url]" class="form-label">

                            <img src=" <%= originalImage %>" style="width: 30vw;" class="card-img-top s-img " alt="listing-image">
                            <br>
                            Upload Image
                            <input class="form-control" type="file"  name="image[url]"   value="<%= listing.image.url %>">

                            </label>

                <div class="invalid-feedback">
                    Please provide a valid image URL.
                </div>
            </div>
    
            <div class="col-8 mb-3 add-btn  ">
                <button class="btn  button s-edit-btn" type="submit">Edit</button>
            </div>
            
        </div>
        
       
       
        
    </form>
</body>

