<% layout("/layouts/boilerplate.ejs") %>
<body>
  
    <!-- <h3 class="m-4 ">    All Listings</h3> -->
     <style>
        #filter {
            display: flex;
            justify-content: center;
            margin-top: 2rem;
            margin-bottom: 2rem;
            padding-left: 3rem;
        }
        .filters {
         
           margin-right: 2rem;
           text-align: center;
           padding: 1rem 0.5rem 0 0.5rem;
            border-radius: 0.5rem;
            opacity: 0.8;
            cursor: pointer;
            font-size: 0.8rem;
            min-width: 5rem;
        }
        .filters:hover {
            background-color: #e9ecef;
            opacity: 1;
        }
        #tax-toggle{
          
          border: 1px solid #212121;
          border-radius: 1rem;
          height:3.5rem;
          display: flex;
          align-items: center;
          padding: 1rem;

        }
     </style>
     <div id="filter">
        <div class="filters">
            <div><i class="fa-solid fa-fire"></i></div>
           <p> Trending</p>

        </div>
        <div class="filters">
            <div><i class="fa-solid fa-person-shelter"></i></div>
            <p> Rooms</p>       
        </div>
        <div class="filters">
            <div><i class="fa-solid fa-leaf"></i></div>
           <p> Amazing Views</p>        
        </div>
        <div class="filters">
          <div><i class="fa-solid fa-mountain-city"></i></div>
           <p>Iconic Cities</p>
        </div>
         <div class="filters">
           <div><i class="fa-solid fa-mountain"></i></div>
          <p>Mountains</p>
        </div>
        <div class="filters">
         <div><i class="fa-brands fa-fort-awesome-alt"></i></div>
         <p>Castles</p>
        </div>
         <div class="filters">
           <div><i class="fa-solid fa-person-swimming"></i></div>
           <p> Amazing pools</p>
        </div>
        <div class="filters">
          <div><i class="fa-solid fa-wheat-awn"></i></div>
          <p>Farm</p>
        </div>
        <div class="filters">
          <div><i class="fa-solid fa-campground"></i></div>
          <p>Camping</p>
        </div>
        <div class="filters">
          <div><i class="fa-solid fa-snowflake"></i></div>
          <p>Arctic</p>
        </div>
       
        <div id="tax-toggle">
          <div class="form-check-reverse form-switch">
  <input class="form-check-input" type="checkbox" role="switch" id="taxToggle" checked>
  <label class="form-check-label" for="switchCheckDefault">Display total with tax</label>
</div>
        </div>

     </div>
   
        <ul>
            <div class="row" >
                
                <% for (listing of listings) { %>
                        <div class="listing-card " style="width: 20rem;flex: 1 1 calc(20% - 1rem); max-width: calc(20% - 1rem);">
                              <a href="/listing/<%= listing._id %>"><img  src="<%= listing.image.url %>" class="card-img-top" alt="listing-image">
                               
                                <div class="card-body"></a>  
                                <p class="card-text"><b><%=listing.title%></b> <br> 
                                <br>
                                &#8377;<%= listing.price.toLocaleString('en-IN') %> &nbsp;  <span class="tax-info">+18% GST</span>
                                </p>
                            </div>
                        </div>
                    
                 
                <% } %>
            </div>
           

           
        </ul>
       <script>
        let taxToggle = document.getElementById('taxToggle');
        taxToggle.addEventListener('click', function() {
            let taxinfo=document.querySelectorAll('.tax-info');
            for(let info of taxinfo){
                if(info.style.display === 'none'){
                    info.style.display = 'inline';
                } else {
                    info.style.display = 'none';
                }
            } 
         
        });
        
       </script>
   
</body>